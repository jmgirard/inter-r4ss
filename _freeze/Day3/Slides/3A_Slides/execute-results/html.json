{
  "hash": "83549690286eff333b954f1255bc8cdf",
  "result": {
    "markdown": "---\nformat: \n  revealjs:\n    css: ../../styles.css\n    slide-number: true\n    show-slide-number: all\n    progress: true\n    history: true\n    hash-type: number\n    theme: default\n    code-block-background: true\n    highlight-style: github\n    code-link: false\n    code-copy: true\n    controls: true\n    pagetitle: \"Inter R4SS Day 3A\"\n    author-meta: \"Jeffrey Girard\"\n    date-meta: \"2023-06-07\"\n---\n\n\n::: {.my-title}\n# [Intermediate R]{.blue2} <br />for Social Scientists\n\n::: {.my-grey}\n[Workshop Day 3A | 2023-06-07]{}<br />\n[Jeffrey M. Girard | Pitt Methods]{}\n:::\n\n![](../../img/proud2_2780E3.svg){.absolute bottom=0 right=0 width=400}\n:::\n\n# Separate and Unite\n\n## Separate and Unite {.smaller}\n\n::: {.columns .pv4}\n\n::: {.column width=\"60%\"}\n- Remember, we want to store one value per cell\n\n- So we need to split up cells that violate this\n\n- We do this using the `separate_*()` functions\n\n- We can separate using delimiters or by position\n\n:::{.fragment .mt1}\n- We may sometimes want to do the opposite\n\n- To merge many variables into one, we can use...\n\n- The `unite()` function or `str_glue()`\n:::\n:::\n\n::: {.column .tc .pv4 width=\"40%\"}\n\n{{< li gdjyhaga trigger=loop delay=3000 colors=secondary:#2a76dd class=rc >}}\n\n\n:::\n\n:::\n\n## Separate and Unite Live Coding\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"false\"}\nlibrary(tidyverse)\n\n# Create some example data\ndat <- \n  tibble(\n    id = c(\"Ax001x01\", \"Ax002x01\", \"Bx001x01\", \"Bx002x01\", \"Cx001x01\", \"Cx002x01\"),\n    duration = c(\"01:16\", \"01:21\", \"01:49\", \"00:34\", \"00:32\", \"00:54\"),\n    growth = c(\"1.6in\", \"2.6in\", \"4.1cm\", \"2.3cm\", \"3.1in\", \"2.8in\"),\n    symptoms = c(\"pain\", \"pain,irritability\", NA, NA, \"irritability\", \"irritability,diarrhea,nausea\")\n  ) |> \n  print()\n\n# SEPARATE\n\n# Separate a column into multiple columns\ndat |> \n  separate_wider_delim(\n    cols = duration,\n    delim = \":\",\n    names = c(\"min\", \"sec\")\n  )\n\n# Keep the column being separated using remove = FALSE\ndat |> \n  separate_wider_delim(\n    cols = duration,\n    delim = \":\",\n    names = c(\"min\", \"sec\"),\n    cols_remove = FALSE\n  )\n\n# The created variables will be strings but we can use parse_number()\ndat |> \n  separate_wider_delim(\n    cols = duration,\n    delim = \":\",\n    names = c(\"min\", \"sec\"),\n    cols_remove = FALSE\n  ) |> \n  mutate(across(.cols = c(min, sec), .fns = parse_number))\n\n# This also works with more than two \"into\" columns\ndat |> \n  separate_wider_delim(\n    cols = id,\n    delim = \"x\",\n    names = c(\"group\", \"subject\", \"time\")\n  )\n\n# Separate by position rather than by delimiter\ndat |> \n  separate_wider_position(\n    cols = growth,\n    widths = c(growth_value = 3, growth_units = 2)\n  )\n\n# We can specify what to do with too few (or too many) pieces\ndat |> \n  separate_wider_delim(\n    cols = symptoms,\n    delim = \",\",\n    names = c(\"symptom1\", \"symptom2\", \"symptom3\"),\n    too_few = \"align_start\"\n  )\n\ndat |> \n  separate_wider_delim(\n    cols = symptoms,\n    delim = \",\",\n    names = c(\"symptom1\", \"symptom2\", \"symptom3\"),\n    too_few = \"align_end\"\n  )\n\n# Or, in this case, we can instead separate longer (into rows)\ndat |> \n  separate_longer_delim(\n    cols = symptoms,\n    delim = \",\"\n  )\n\n# UNITE\n\nmpg2 <- \n  mpg |> \n  select(manufacturer, model, year, hwy, cty) |>\n  print()\n\n# Unite multiple columns into one string\nmpg2 |> \n  unite(\n    col = \"full_name\",\n    manufacturer, model, year,\n    sep = \" \"\n  ) \n\nmpg2 |> \n  unite(\n    col = \"fuel_eff\",\n    cty, hwy,\n    sep = \" / \"\n  ) \n\n# Or use mutate() and str_glue() to get a bit more control\n# You can \"glue\" in a string by wrapping its name in {}\nmpg2 |> \n  mutate(\n    full_name = str_glue(\"{manufacturer} {model} ({year})\"),\n    full_name = str_to_title(full_name),\n    fuel_eff = str_glue(\"mpg: {cty} city / {hwy} highway\")\n  )\n```\n:::\n\n\n\n# Pivot Longer\n\n## Pivot Longer {.smaller}\n\n::: {.columns .pv4}\n\n::: {.column width=\"60%\"}\n- Tidy data can have many different shapes\n  -   [Long data]{.b .blue} is useful for MLM and most plots\n  -   Wide data is useful for SEM and other plots\n  \n::: {.fragment .mt1}\n- The `pivot_*()` functions reshape tibbles\n  -   `pivot_longer()` adds rows from columns\n:::\n::: {.fragment .mt1}\n- For `pivot_longer()`, we need...\n  -   `cols` to collapse\n  -   `names_to` is where cols names go\n  -   `values_to` is where cols values go\n:::\n:::\n\n::: {.column .tc .pv4 width=\"40%\"}\n\n{{< li xacejjis trigger=loop delay=3000 colors=secondary:#2a76dd class=rc >}}\n\n\n:::\n\n:::\n\n## Pivot Longer Live Coding\n\n\n::: {.cell renv.ignore='true'}\n\n```{.r .cell-code  code-line-numbers=\"false\"}\n# Create example data in wide format\ngradebook <- \n  tibble(\n    student = 1:10,\n    test1 = round(rnorm(10, 81, 10)),\n    test2 = round(rnorm(10, 75, 8)),\n    test3 = round(rnorm(10, 77, 7)),\n    test4 = round(rnorm(10, 80, 5)),\n    test5 = round(rnorm(10, 79, 9))\n  ) |> \n  print()\n\n# This format usually won't work for multilevel modeling or ggplot2\n# ggplot(gradebook, aes(x = ???, y = ???))\n\n# To fix it, we can reshape it (pivot it) to long format\ngradebook2 <- \n  gradebook |> \n  pivot_longer(\n    cols = c(test1, test2, test3, test4, test5), \n    names_to = \"test\", \n    values_to = \"grade\"\n  ) |> \n  print()\n\n# Now this is much easier to work with\nggplot(gradebook2, aes(x = test, y = grade, group = student)) + \n  geom_line() + \n  geom_point()\n\n# Use selection helpers to select columns\ngradebook |> \n  pivot_longer(\n    cols = starts_with(\"test\"), \n    names_to = \"test\", \n    values_to = \"grade\"\n  ) |> \n  print()\n\n# Automatically remove the name prefix and (optionally) convert to numeric\ngradebook |> \n  pivot_longer(\n    cols = starts_with(\"test\"), \n    names_to = \"test\", \n    values_to = \"grade\",\n    names_prefix = \"test\",\n    names_transform = parse_number\n  ) |> \n  print()\n\n# How to select columns with numerical names: wrap them in `backticks`\ntable4a\n\ntable4a |> \n  pivot_longer(\n    cols = c(1999, 2000),\n    names_to = \"year\",\n    values_to = \"cases\"\n  ) # error\n\ntable4a |> \n  pivot_longer(\n    cols = c(`1999`, `2000`),\n    names_to = \"year\",\n    values_to = \"cases\"\n  )\n```\n:::\n\n\n\n# Pivot Wider\n\n## Pivot Wider {.smaller}\n\n::: {.columns .pv4}\n\n::: {.column width=\"60%\"}\n- Tidy data can have many different shapes\n  -   Long data is useful for MLM and most plots\n  -   [Wide data]{.b .blue} is useful for SEM and other plots\n  \n::: {.fragment .mt1}\n- The `pivot_*()` functions reshape tibbles\n  -   `pivot_wider()` adds columns from rows\n:::\n::: {.fragment .mt1}\n- For `pivot_wider()`, we need...\n  -   `names_from` is where names come from\n  -   `values_from` is where values come from\n:::\n:::\n\n::: {.column .tc .pv4 width=\"40%\"}\n\n{{< li xacejjis trigger=loop delay=3000 colors=secondary:#2a76dd class=rc >}}\n\n\n:::\n\n:::\n\n## Pivot Wider Live Coding\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"false\"}\n# Example data in long format\ndiary_data <- \n  tibble(\n    participant = rep(1:3, each = 10, times = 2),\n    day = rep(1:10, each = 2, times = 3),\n    scale = rep(c(\"mood\", \"sleep\"), times = 10*3),\n    score = round(rnorm(n = 60), digits = 1)\n  ) |>  \n  print()\n\n# This format works well for some purposes\nggplot(diary_data, aes(x = scale, y = score)) + geom_boxplot()\n\n# But not others!\n# ggplot(diary_data, aes(x = mood???, y = sleep???))\n\n# To fix this, we can reshape (pivot) it to wide format\ndiary_data |>\n  pivot_wider(\n    names_from = \"scale\",\n    values_from = \"score\"\n  )\n\n# Now we can plot this relationship as desired\ndiary_data |> \n  pivot_wider(\n    names_from = \"scale\",\n    values_from = \"score\"\n  ) |> \n  ggplot(aes(x = mood, y = sleep)) + geom_point()\n\n# We can also add a prefix to each name\ndiary_data\n\ndiary_data |> \n  pivot_wider(\n    names_from = \"day\",\n    values_from = \"score\"\n  )\n\ndiary_data |> \n  pivot_wider(\n    names_from = \"day\",\n    values_from = \"score\",\n    names_prefix = \"day_\"\n  )\n\n# We can also pivot on multiple columns\ndiary_data |> \n  pivot_wider(\n    names_from = c(\"day\", \"scale\"),\n    values_from = \"score\"\n  )\n\n# We can change the way the new names are formed (e.g., with prefix and sep)\ndiary_data |> \n  pivot_wider(\n    names_from = c(\"day\", \"scale\"),\n    values_from = \"score\",\n    names_prefix = \"day\",\n    names_sep = \".\"\n  )\n\n# Example data\nrecords <- \n  tibble(\n    fname = rep(c(\"John\", \"Alice\", \"Buster\", \"John\", \"Zenia\"), each = 2),\n    var = rep(c(\"grad_year\", \"cum_gpa\"), times = 5),\n    val = c(1990, 3.01, 1993, 3.32, 1997, 2.09, 1994, 3.28, 1991, 2.64)\n  ) |> \n  print()\n\n# If the pivoting results in rows that aren't unique, it will nest them\nrecords |> \n  pivot_wider(\n    names_from = \"var\",\n    values_from = \"val\"\n  )\n\n# Get around this by making your rows unique!\nrecords |> \n  mutate(linitial = rep(c(\"A\", \"S\", \"K\", \"Z\", \"I\"), each = 2)) |> \n  pivot_wider(\n    names_from = var,\n    values_from = val\n  )\n```\n:::\n\n\n# Combining Tibbles\n\n## Combining Tibbles\n\n::: {.columns .pv4}\n\n::: {.column width=\"60%\"}\n- If two tibbles or data files have (many of) the same columns, then we can combine them into one\n  \n::: {.fragment .mt1}\n- We can give `bind_rows()` many tibbles as arguments\n:::\n\n\n::: {.fragment .mt1}\n- We can also give `read_csv()` a vector of multiple file names\n:::\n:::\n\n::: {.column .tc .pv4 width=\"40%\"}\n\n{{< li rfqpkxhi trigger=loop delay=3000 colors=secondary:#2a76dd class=rc >}}\n\n\n:::\n\n:::\n\n## Combining Tibbles Live Coding\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"false\"}\n## Load tidyverse package (needed for bind_rows and read_csv)\n\nlibrary(tidyverse)\n\n## Create some example tibbles to combine\n\nclassA <- tibble(\n  name = c(\"Ann\", \"Bob\", \"Charlie\"),\n  age = c(19, 23, 21)\n)\n\nclassB <- tibble(\n  name = c(\"Dave\", \"Evie\"),\n  age = c(20, 29)\n)\n\n## Bind together without any id variable\n\nmerged <- bind_rows(classA, classB)\nmerged\n\n## Bind together with a numeric id variable (from argument order)\n\nmerged2 <- bind_rows(classA, classB, .id = \"class\")\nmerged2\n\n## Bind together by a string id variable (from argument names)\nmerged3 <- bind_rows(A = data1, B = data2, .id = \"class\")\nmerged3\n\n\n## Create another tibble with partially overlapping columns\n\nclassC <- tibble(\n  name = c(\"Freda\", \"George\"),\n  gender = c(\"Girl\", \"Boy\")\n)\n\nmerged4 <- bind_rows(classA, classC)\nmerged4\n\n## Read in multiple files with the same format\n\n### I have made a subfolder in called \"data\" that has three CSV files in it\n\nd1 <- read_csv(\"data/pid_001.csv\")\nd2 <- read_csv(\"data/pid_002.csv\")\nd3 <- read_csv(\"data/pid_003.csv\")\n\nd1\nd2\nd3\n\n### Accomplish this using bind_rows\n\ndall <- bind_rows(d1, d2, d3, .id = \"file\")\ndall\n\n### Or, do so using read_csv directly\n\ndall2 <- read_csv(\n  c(\"data/pid_001.csv\", \"data/pid_002.csv\", \"data/pid_003.csv\")\n)\ndall2\n\ndall3 <- read_csv(\n  c(\"data/pid_001.csv\", \"data/pid_002.csv\", \"data/pid_003.csv\"),\n  id = \"file\"\n)\ndall3\n\n### Have R create the vector of file names for you\n\nfiles <- list.files(\n  path = \"data\",\n  pattern = \".csv\",\n  full.names = TRUE\n)\nfiles\n\ndall4 <- read_csv(files, id = \"file\")\ndall4\n```\n:::\n\n\n\n# Relational Data\n\n## Relational Data {.smaller}\n\n-   A set of inter-related tables is called a *relational database* (RDB)\n\n::: {.columns .pv4}\n\n::: {.column .tc width=\"50%\"}\n\n[ratings]{.b .blue}\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> user </th>\n   <th style=\"text-align:right;\"> movie </th>\n   <th style=\"text-align:left;\"> rating </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> sing.it.sam </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> ★☆☆☆☆ </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> sing.it.sam </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:left;\"> ★★★★★ </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> macattack </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> ★★★★☆ </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> macattack </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:left;\"> ★★☆☆☆ </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> inzain99 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> ★★★☆☆ </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> inzain99 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:left;\"> ★★☆☆☆ </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n:::\n\n::: {.column .tc width=\"50%\"}\n[users]{.b .blue}\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> user </th>\n   <th style=\"text-align:left;\"> fname </th>\n   <th style=\"text-align:left;\"> lname </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> sing.it.sam </td>\n   <td style=\"text-align:left;\"> Sam </td>\n   <td style=\"text-align:left;\"> Jones </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> macattack </td>\n   <td style=\"text-align:left;\"> Alex </td>\n   <td style=\"text-align:left;\"> Mackey </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> inzain99 </td>\n   <td style=\"text-align:left;\"> Zain </td>\n   <td style=\"text-align:left;\"> Baker </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n[movies]{.b .blue}\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> id </th>\n   <th style=\"text-align:left;\"> title </th>\n   <th style=\"text-align:right;\"> year </th>\n   <th style=\"text-align:left;\"> genre </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> John Wick 2 </td>\n   <td style=\"text-align:right;\"> 2017 </td>\n   <td style=\"text-align:left;\"> Action </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:left;\"> Frozen II </td>\n   <td style=\"text-align:right;\"> 2019 </td>\n   <td style=\"text-align:left;\"> Family </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n:::\n\n:::\n\n## Relational Data {.smaller}\n\n-   To **join** the tables into one (as below), we need to know their connections\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> user </th>\n   <th style=\"text-align:left;\"> fname </th>\n   <th style=\"text-align:left;\"> lname </th>\n   <th style=\"text-align:right;\"> movie </th>\n   <th style=\"text-align:left;\"> title </th>\n   <th style=\"text-align:right;\"> year </th>\n   <th style=\"text-align:left;\"> genre </th>\n   <th style=\"text-align:left;\"> rating </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> sing.it.sam </td>\n   <td style=\"text-align:left;\"> Sam </td>\n   <td style=\"text-align:left;\"> Jones </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> John Wick 2 </td>\n   <td style=\"text-align:right;\"> 2017 </td>\n   <td style=\"text-align:left;\"> Action </td>\n   <td style=\"text-align:left;\"> ★☆☆☆☆ </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> sing.it.sam </td>\n   <td style=\"text-align:left;\"> Sam </td>\n   <td style=\"text-align:left;\"> Jones </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:left;\"> Frozen II </td>\n   <td style=\"text-align:right;\"> 2019 </td>\n   <td style=\"text-align:left;\"> Family </td>\n   <td style=\"text-align:left;\"> ★★★★★ </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> macattack </td>\n   <td style=\"text-align:left;\"> Alex </td>\n   <td style=\"text-align:left;\"> Mackey </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> John Wick 2 </td>\n   <td style=\"text-align:right;\"> 2017 </td>\n   <td style=\"text-align:left;\"> Action </td>\n   <td style=\"text-align:left;\"> ★★★★☆ </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> macattack </td>\n   <td style=\"text-align:left;\"> Alex </td>\n   <td style=\"text-align:left;\"> Mackey </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:left;\"> Frozen II </td>\n   <td style=\"text-align:right;\"> 2019 </td>\n   <td style=\"text-align:left;\"> Family </td>\n   <td style=\"text-align:left;\"> ★★☆☆☆ </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> inzain99 </td>\n   <td style=\"text-align:left;\"> Zain </td>\n   <td style=\"text-align:left;\"> Baker </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> John Wick 2 </td>\n   <td style=\"text-align:right;\"> 2017 </td>\n   <td style=\"text-align:left;\"> Action </td>\n   <td style=\"text-align:left;\"> ★★★☆☆ </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> inzain99 </td>\n   <td style=\"text-align:left;\"> Zain </td>\n   <td style=\"text-align:left;\"> Baker </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:left;\"> Frozen II </td>\n   <td style=\"text-align:right;\"> 2019 </td>\n   <td style=\"text-align:left;\"> Family </td>\n   <td style=\"text-align:left;\"> ★★☆☆☆ </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n# Relational Data\n\n## Relational Data {.smaller}\n\n::: {.columns .pv4}\n\n::: {.column .tc width=\"50%\"}\n- Data is [relational]{.b .blue} when one observation references another observation\n- Each observation needs to be uniquely identified by one or more variables\n  - These variables are called \"keys\"\n- [Natural keys]{.b .green} are meaningful\n  - e.g., `users$user`\n- [Surrogate keys]{.b .green} are meaningless\n  - e.g., `movies$id`\n- The ratings table has a double-key\n:::\n\n::: {.column .tc width=\"50%\"}\n\n![](../../img/keys.png)\n\n:::\n\n:::\n\n# Relational Data\n\n## Relational Data {.smaller}\n\n- Let's try to guess the connections for the \\{nycflights13\\} package's tables.\n\n::: {.columns .pv4}\n\n::: {.column .tc width=\"50%\"}\n\n![](../../img/flights1.png)\n:::\n\n::: {.column .tc .fragment width=\"50%\"}\n\n![](../../img/flights2.png)\n\n:::\n\n:::\n\n\n# Basic Join Types\n\n## Basic Join Types {.smaller}\n\n- The basic joins handle non-overlapping/missing observations differently\n\n::: {.columns .pv4}\n\n::: {.column .tc width=\"25%\"}\n\n[movies]{.b .blue}\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> movie </th>\n   <th style=\"text-align:right;\"> year </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 2020 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 2003 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 2019 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 2006 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 2003 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 2002 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n:::\n\n::: {.column .tc width=\"25%\"}\n\n[avg_ratings]{.b .blue}\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> movie </th>\n   <th style=\"text-align:right;\"> average </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 2.2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 8.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 6.7 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 8.7 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 3.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 7.5 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n:::\n\n::: {.column width=\"15%\"}\n\n:::\n\n::: {.column width=\"35%\"}\n\n![](../../img/joins.png)\n\n:::\n\n:::\n\n## Left Join {.smaller}\n\n::: {}\n- Left join includes all rows in [left]; those missing in [right] get NA\n:::\n\n::: {.columns .pv4}\n\n::: {.column .tc width=\"25%\"}\n\n[movies]{.b .blue}\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> movie </th>\n   <th style=\"text-align:right;\"> year </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 2020 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 2003 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 2019 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 2006 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 2003 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 2002 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n:::\n\n::: {.column .tc width=\"25%\"}\n\n[avg_ratings]{.b .blue}\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> movie </th>\n   <th style=\"text-align:right;\"> average </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 2.2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 8.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 6.7 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 8.7 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 3.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 7.5 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n:::\n\n::: {.column .tc width=\"50%\"}\n\n[Left Join (movies, avg_ratings)]{.b .green}\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> movie </th>\n   <th style=\"text-align:right;\"> year </th>\n   <th style=\"text-align:right;\"> average </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 2020 </td>\n   <td style=\"text-align:right;color: red !important;\"> NA </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 2003 </td>\n   <td style=\"text-align:right;color: black !important;\"> 2.2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 2019 </td>\n   <td style=\"text-align:right;color: black !important;\"> 8.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 2006 </td>\n   <td style=\"text-align:right;color: black !important;\"> 6.7 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 2003 </td>\n   <td style=\"text-align:right;color: black !important;\"> 8.7 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 2002 </td>\n   <td style=\"text-align:right;color: black !important;\"> 3.5 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n:::\n\n:::\n\n## Right Join {.smaller}\n\n::: {}\n- Right join includes all rows in [right]; those missing in [left] get NA\n:::\n\n::: {.columns .pv4}\n\n::: {.column .tc width=\"25%\"}\n\n[movies]{.b .blue}\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> movie </th>\n   <th style=\"text-align:right;\"> year </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 2020 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 2003 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 2019 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 2006 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 2003 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 2002 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n:::\n\n::: {.column .tc width=\"25%\"}\n\n[avg_ratings]{.b .blue}\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> movie </th>\n   <th style=\"text-align:right;\"> average </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 2.2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 8.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 6.7 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 8.7 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 3.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 7.5 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n:::\n\n::: {.column .tc width=\"50%\"}\n\n[Right Join (movies, avg_ratings)]{.b .green}\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> movie </th>\n   <th style=\"text-align:right;\"> year </th>\n   <th style=\"text-align:right;\"> average </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;color: black !important;\"> 2003 </td>\n   <td style=\"text-align:right;\"> 2.2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;color: black !important;\"> 2019 </td>\n   <td style=\"text-align:right;\"> 8.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;color: black !important;\"> 2006 </td>\n   <td style=\"text-align:right;\"> 6.7 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;color: black !important;\"> 2003 </td>\n   <td style=\"text-align:right;\"> 8.7 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;color: black !important;\"> 2002 </td>\n   <td style=\"text-align:right;\"> 3.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;color: red !important;\"> NA </td>\n   <td style=\"text-align:right;\"> 7.5 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n:::\n\n:::\n\n## Inner Join {.smaller}\n\n::: {}\n- Inner join includes all rows in both [left] and [right]; no new NAs\n:::\n\n::: {.columns .pv4}\n\n::: {.column .tc width=\"25%\"}\n\n[movies]{.b .blue}\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> movie </th>\n   <th style=\"text-align:right;\"> year </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 2020 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 2003 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 2019 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 2006 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 2003 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 2002 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n:::\n\n::: {.column .tc width=\"25%\"}\n\n[avg_ratings]{.b .blue}\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> movie </th>\n   <th style=\"text-align:right;\"> average </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 2.2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 8.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 6.7 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 8.7 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 3.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 7.5 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n:::\n\n::: {.column .tc width=\"50%\"}\n\n[Inner Join (movies, avg_ratings)]{.b .green}\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> movie </th>\n   <th style=\"text-align:right;\"> year </th>\n   <th style=\"text-align:right;\"> average </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 2003 </td>\n   <td style=\"text-align:right;\"> 2.2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 2019 </td>\n   <td style=\"text-align:right;\"> 8.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 2006 </td>\n   <td style=\"text-align:right;\"> 6.7 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 2003 </td>\n   <td style=\"text-align:right;\"> 8.7 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 2002 </td>\n   <td style=\"text-align:right;\"> 3.5 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n:::\n\n:::\n\n\n## Full Join {.smaller}\n\n::: {}\n- Full join includes all rows in either [left] opr [right]; missings as NAs\n:::\n\n::: {.columns .pv4}\n\n::: {.column .tc width=\"25%\"}\n\n[movies]{.b .blue}\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> movie </th>\n   <th style=\"text-align:right;\"> year </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 2020 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 2003 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 2019 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 2006 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 2003 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 2002 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n:::\n\n::: {.column .tc width=\"25%\"}\n\n[avg_ratings]{.b .blue}\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> movie </th>\n   <th style=\"text-align:right;\"> average </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 2.2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 8.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 6.7 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 8.7 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 3.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 7.5 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n:::\n\n::: {.column .tc width=\"50%\"}\n\n[Full Join (movies, avg_ratings)]{.b .green}\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> movie </th>\n   <th style=\"text-align:right;\"> year </th>\n   <th style=\"text-align:right;\"> average </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;color: black !important;\"> 2020 </td>\n   <td style=\"text-align:right;color: red !important;\"> NA </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;color: black !important;\"> 2003 </td>\n   <td style=\"text-align:right;color: black !important;\"> 2.2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;color: black !important;\"> 2019 </td>\n   <td style=\"text-align:right;color: black !important;\"> 8.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;color: black !important;\"> 2006 </td>\n   <td style=\"text-align:right;color: black !important;\"> 6.7 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;color: black !important;\"> 2003 </td>\n   <td style=\"text-align:right;color: black !important;\"> 8.7 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;color: black !important;\"> 2002 </td>\n   <td style=\"text-align:right;color: black !important;\"> 3.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;color: red !important;\"> NA </td>\n   <td style=\"text-align:right;color: black !important;\"> 7.5 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n:::\n\n:::\n\n## Basic Joins Live Coding\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"false\"}\n# Load and examine \nlibrary(nycflights13)\nflights\nairlines\nairports\nplanes\n\n# Select a subset of columns to make it easier to see (not necessary to work)\nflights2 <- \n  flights |> \n  select(year, month, day, hour, origin, dest, tailnum, carrier) |> \n  print()\n\n# Add information to flights2 about each carrier from airlines\nflights2 |> \n  left_join(airlines, by = \"carrier\")\n\n# If the key variables are named differently, we can give \"by\" a named vector\n# The order should be c(x = y) where x is the first table and y is the second\nflights2 |> \n  left_join(airports, by = c(\"origin\" = \"faa\"))\n\n# Add information to flights2 about each tailnum from planes\nflights2 |> \n  left_join(planes, by = \"tailnum\")\n\n# Note the following about the output\n# (1) both tables had a year variable, so it added .x and .y to distinguish them\n# (2) if flights2 had a tailnum not in planes, all joined variables will be NA\n\n# We can change the suffix it adds to duplicate variables as a two-element vector\nflights2 |> \n  left_join(planes, by = \"tailnum\", suffix = c(\"_flight\", \"_plane\"))\n\n# Confirm that there is no record in planes for tailnum N3ALAA\nplanes |> \n  filter(tailnum == \"N3ALAA\")\n\n# To only return rows that have a match in both tables use inner_join()\nflights2 |> \n  inner_join(planes, by = \"tailnum\")\n\n# Note that the observation for tailnum N3ALAA is gone and there are fewer rows\n\n# To return rows that have a match in either table use full_join()\nflights2 |> \n  full_join(planes, by = \"tailnum\")\n\n# To return all rows in planes and all flights that match them, use right_join()\nflights2 |> \n  right_join(planes, by = \"tailnum\")\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/kePrint-0.0.1/kePrint.js\"></script>\r\n<link href=\"../../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\r\n"
      ],
      "include-after-body": [
        "\r\n<script>\r\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\r\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\r\n  // slide changes (different for each slide format).\r\n  (function () {\r\n    // dispatch for htmlwidgets\r\n    function fireSlideEnter() {\r\n      const event = window.document.createEvent(\"Event\");\r\n      event.initEvent(\"slideenter\", true, true);\r\n      window.document.dispatchEvent(event);\r\n    }\r\n\r\n    function fireSlideChanged(previousSlide, currentSlide) {\r\n      fireSlideEnter();\r\n\r\n      // dispatch for shiny\r\n      if (window.jQuery) {\r\n        if (previousSlide) {\r\n          window.jQuery(previousSlide).trigger(\"hidden\");\r\n        }\r\n        if (currentSlide) {\r\n          window.jQuery(currentSlide).trigger(\"shown\");\r\n        }\r\n      }\r\n    }\r\n\r\n    // hookup for slidy\r\n    if (window.w3c_slidy) {\r\n      window.w3c_slidy.add_observer(function (slide_num) {\r\n        // slide_num starts at position 1\r\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\r\n      });\r\n    }\r\n\r\n  })();\r\n</script>\r\n\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}